---
import properties from "@features/properties/data/properties.json"
import PropertiesCard from "@features/properties/components/PropertyCard.astro"

const featured = properties
	.filter((p) => p.featured)
	.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime())
---

<section id="featured" class="pb-16 pt-6 bg-white scroll-mt-16">
	<div class="container mx-auto px-4">
		<div class="text-center mb-12">
			<h2 class="text-3xl md:textS-4xl font-bold uppercase mb-4">
				Propiedades <span class="text-dark-orange">destacadas</span>
			</h2>
			<p class="text-gray-600 max-w-2xl mx-auto">Selecci√≥n exclusiva de las mejores propiedades en el mercado</p>
		</div>

		<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
			<!-- Property Cards -->
			{
				featured.map((property) => (
					<PropertiesCard
						title={property.title}
						slug={property.slug}
						location={property.location}
						bathrooms={property.bathrooms}
						area={property.area}
						rooms={property.rooms}
						image={property.images[0]}
						floors={property.floors}
					/>
				))
			}
		</div>

		<div class="text-center mt-12">
			<a
				href="#"
				class="inline-block bg-midnight-blue hover:bg-midnight-blue/90 text-white px-8 py-3 rounded font-bold transition"
				>Ver todas las propiedades</a
			>
		</div>
	</div>
</section>

<style>
	.property-card:hover .property-overlay {
		opacity: 1;
		transform: translateY(0);
	}

	.property-card:hover img {
		scale: 1.1;
	}

	.property-overlay {
		transition: all 0.3s ease;
		opacity: 0;
		transform: translateY(20px);
		backdrop-filter: blur(12);
	}
</style>
